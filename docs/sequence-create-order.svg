<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1733px" preserveAspectRatio="none" style="width:1851px;height:1733px;background:#FFFFFF;" version="1.1" viewBox="0 0 1851 1733" width="1851px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="1568.7266" style="stroke:#181818;stroke-width:0.5;" width="1229.7461" x="222.5732" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="97.8174" x="788.5376" y="18.5684">Orders Service</text><g><title>CreateOrderHandler</title><rect fill="#FFFFFF" height="1213.2656" style="stroke:#181818;stroke-width:1;" width="10" x="523.6655" y="142.1094"/></g><g><title>OrderRepository</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="913.5381" y="1179.8223"/></g><g><title>FxConverter</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1034.376" y="507.4805"/></g><g><title>RiskChecker</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1141.3164" y="566.1016"/></g><g><title>PromoService</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1252.4883" y="347.9277"/></g><g><title>PaymentGateway</title><rect fill="#FFFFFF" height="225.1289" style="stroke:#181818;stroke-width:1;" width="10" x="1379.1709" y="828.4961"/></g><rect fill="none" height="120.1973" style="stroke:#000000;stroke-width:1.5;" width="816.0029" x="40" y="199.4199"/><rect fill="none" height="640.0762" style="stroke:#000000;stroke-width:1.5;" width="1824.6611" x="20" y="708.2988"/><rect fill="none" height="492.8789" style="stroke:#000000;stroke-width:1.5;" width="1804.6611" x="30" y="789.875"/><rect fill="none" height="180.8184" style="stroke:#000000;stroke-width:1.5;" width="1680.1416" x="50" y="872.8066"/><rect fill="none" height="17.3105" style="stroke:#000000;stroke-width:1.5;" width="88.0098" x="60" y="1029.3145"/><rect fill="none" height="208.1289" style="stroke:#000000;stroke-width:1.5;" width="1784.6611" x="40" y="1067.625"/><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="1413.75" width="8" x="68.7524" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="72" x2="72" y1="81.4883" y2="1495.2383"/></g><g><title>OrderController</title><rect fill="#000000" fill-opacity="0.00000" height="1413.75" width="8" x="283.126" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="286.5732" x2="286.5732" y1="81.4883" y2="1495.2383"/></g><g><title>CreateOrderHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1413.75" width="8" x="524.6655" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="528.6548" x2="528.6548" y1="81.4883" y2="1495.2383"/></g><g><title>Order</title><rect fill="#000000" fill-opacity="0.00000" height="1413.75" width="8" x="815.5308" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="819.0586" x2="819.0586" y1="81.4883" y2="1495.2383"/></g><g><title>OrderRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1413.75" width="8" x="914.5381" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="918.0029" x2="918.0029" y1="81.4883" y2="1495.2383"/></g><g><title>FxConverter</title><rect fill="#000000" fill-opacity="0.00000" height="1413.75" width="8" x="1035.376" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1039.0732" x2="1039.0732" y1="81.4883" y2="1495.2383"/></g><g><title>RiskChecker</title><rect fill="#000000" fill-opacity="0.00000" height="1413.75" width="8" x="1142.3164" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1145.6787" x2="1145.6787" y1="81.4883" y2="1495.2383"/></g><g><title>PromoService</title><rect fill="#000000" fill-opacity="0.00000" height="1413.75" width="8" x="1253.4883" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1256.9541" x2="1256.9541" y1="81.4883" y2="1495.2383"/></g><g><title>PaymentGateway</title><rect fill="#000000" fill-opacity="0.00000" height="1413.75" width="8" x="1380.1709" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1384.0225" x2="1384.0225" y1="81.4883" y2="1495.2383"/></g><g><title>Promo 3rd.party</title><rect fill="#000000" fill-opacity="0.00000" height="1413.75" width="8" x="1518.5601" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1522.3193" x2="1522.3193" y1="81.4883" y2="1495.2383"/></g><g><title>Payment Service</title><rect fill="#000000" fill-opacity="0.00000" height="1413.75" width="8" x="1654.4712" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1657.8008" x2="1657.8008" y1="81.4883" y2="1495.2383"/></g><g><title>Data Store</title><rect fill="#000000" fill-opacity="0.00000" height="1413.75" width="8" x="1768.4014" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1772.1416" x2="1772.1416" y1="81.4883" y2="1495.2383"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="50" y="78.5352">Client</text><ellipse cx="72.7524" cy="13.5" fill="#AEE3FF" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M72.7524,21.5 L72.7524,48.5 M59.7524,29.5 L85.7524,29.5 M72.7524,48.5 L59.7524,63.5 M72.7524,48.5 L85.7524,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="50" y="1507.7734">Client</text><ellipse cx="72.7524" cy="1519.2266" fill="#AEE3FF" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M72.7524,1527.2266 L72.7524,1554.2266 M59.7524,1535.2266 L85.7524,1535.2266 M72.7524,1554.2266 L59.7524,1569.2266 M72.7524,1554.2266 L85.7524,1569.2266" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="OrderController"><rect fill="#C7F9CC" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.1055" x="226.5732" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.1055" x="233.5732" y="70.5352">OrderController</text></g><g class="participant participant-tail" data-participant="OrderController"><rect fill="#C7F9CC" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.1055" x="226.5732" y="1494.2383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.1055" x="233.5732" y="1514.7734">OrderController</text></g><g class="participant participant-head" data-participant="CreateOrderHandler"><rect fill="#FFF3B0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.0215" x="453.6548" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.0215" x="460.6548" y="70.5352">CreateOrderHandler</text></g><g class="participant participant-tail" data-participant="CreateOrderHandler"><rect fill="#FFF3B0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.0215" x="453.6548" y="1494.2383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.0215" x="460.6548" y="1514.7734">CreateOrderHandler</text></g><g class="participant participant-head" data-participant="Order"><rect fill="#E8EAED" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52.9443" x="793.0586" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.9443" x="800.0586" y="70.5352">Order</text></g><g class="participant participant-tail" data-participant="Order"><rect fill="#E8EAED" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52.9443" x="793.0586" y="1494.2383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.9443" x="800.0586" y="1514.7734">Order</text></g><g class="participant participant-head" data-participant="OrderRepository"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.0703" x="856.0029" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.0703" x="863.0029" y="70.5352">OrderRepository</text></g><g class="participant participant-tail" data-participant="OrderRepository"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.0703" x="856.0029" y="1494.2383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.0703" x="863.0029" y="1514.7734">OrderRepository</text></g><g class="participant participant-head" data-participant="FxConverter"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96.6055" x="991.0732" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.6055" x="998.0732" y="70.5352">FxConverter</text></g><g class="participant participant-tail" data-participant="FxConverter"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96.6055" x="991.0732" y="1494.2383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.6055" x="998.0732" y="1514.7734">FxConverter</text></g><g class="participant participant-head" data-participant="RiskChecker"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.2754" x="1097.6787" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.2754" x="1104.6787" y="70.5352">RiskChecker</text></g><g class="participant participant-tail" data-participant="RiskChecker"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.2754" x="1097.6787" y="1494.2383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.2754" x="1104.6787" y="1514.7734">RiskChecker</text></g><g class="participant participant-head" data-participant="PromoService"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.0684" x="1204.9541" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.0684" x="1211.9541" y="70.5352">PromoService</text></g><g class="participant participant-tail" data-participant="PromoService"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.0684" x="1204.9541" y="1494.2383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.0684" x="1211.9541" y="1514.7734">PromoService</text></g><g class="participant participant-head" data-participant="PaymentGateway"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.2969" x="1320.0225" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.2969" x="1327.0225" y="70.5352">PaymentGateway</text></g><g class="participant participant-tail" data-participant="PaymentGateway"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.2969" x="1320.0225" y="1494.2383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.2969" x="1327.0225" y="1514.7734">PaymentGateway</text></g><g class="participant participant-head" data-participant="PromoAPI"><rect fill="#AEE3FF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.4814" x="1458.3193" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.4814" x="1465.3193" y="70.5352">Promo 3rd&#8209;party</text></g><g class="participant participant-tail" data-participant="PromoAPI"><rect fill="#AEE3FF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.4814" x="1458.3193" y="1494.2383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.4814" x="1465.3193" y="1514.7734">Promo 3rd&#8209;party</text></g><g class="participant participant-head" data-participant="PaymentAPI"><rect fill="#AEE3FF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.3408" x="1596.8008" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.3408" x="1603.8008" y="70.5352">Payment Service</text></g><g class="participant participant-tail" data-participant="PaymentAPI"><rect fill="#AEE3FF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.3408" x="1596.8008" y="1494.2383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.3408" x="1603.8008" y="1514.7734">Payment Service</text></g><g class="participant participant-head" data-participant="DataStore"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84.5195" x="1730.1416" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.5195" x="1737.1416" y="70.5352">Data Store</text></g><g class="participant participant-tail" data-participant="DataStore"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84.5195" x="1730.1416" y="1494.2383"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.5195" x="1737.1416" y="1514.7734">Data Store</text></g><g><title>CreateOrderHandler</title><rect fill="#FFFFFF" height="1213.2656" style="stroke:#181818;stroke-width:1;" width="10" x="523.6655" y="142.1094"/></g><g><title>OrderRepository</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="913.5381" y="1179.8223"/></g><g><title>FxConverter</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1034.376" y="507.4805"/></g><g><title>RiskChecker</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1141.3164" y="566.1016"/></g><g><title>PromoService</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1252.4883" y="347.9277"/></g><g><title>PaymentGateway</title><rect fill="#FFFFFF" height="225.1289" style="stroke:#181818;stroke-width:1;" width="10" x="1379.1709" y="828.4961"/></g><g class="message" data-participant-1="Client" data-participant-2="OrderController"><polygon fill="#181818" points="275.126,108.7988,285.126,112.7988,275.126,116.7988,279.126,112.7988" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="72.7524" x2="281.126" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="79.7524" y="108.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.7979" x="92.3281" y="108.0566">POST /orders (Create Order)</text></g><g class="message" data-participant-1="OrderController" data-participant-2="CreateOrderHandler"><polygon fill="#181818" points="511.6655,138.1094,521.6655,142.1094,511.6655,146.1094,515.6655,142.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="287.126" x2="517.6655" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="294.126" y="137.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.0928" x="306.7017" y="137.3672">Execute</text></g><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="CreateOrderHandler"><line style="stroke:#181818;stroke-width:1;" x1="533.6655" x2="575.6655" y1="171.4199" y2="171.4199"/><line style="stroke:#181818;stroke-width:1;" x1="575.6655" x2="575.6655" y1="171.4199" y2="184.4199"/><line style="stroke:#181818;stroke-width:1;" x1="534.6655" x2="575.6655" y1="184.4199" y2="184.4199"/><polygon fill="#181818" points="544.6655,180.4199,534.6655,184.4199,544.6655,188.4199,540.6655,184.4199" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="540.6655" y="166.6777">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.4907" x="553.2412" y="166.6777">Validate currency &amp; amount</text></g><path d="M40,199.4199 L102.1387,199.4199 L102.1387,206.7305 L92.1387,216.7305 L40,216.7305 L40,199.4199" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="120.1973" style="stroke:#000000;stroke-width:1.5;" width="816.0029" x="40" y="199.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="55" y="212.9883">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="187.6929" x="117.1387" y="212.0547">[UnsupportedCurrencyException]</text><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="OrderController"><polygon fill="#FFF3B0" points="298.126,234.041,288.126,238.041,298.126,242.041,294.126,238.041" style="stroke:#FFF3B0;stroke-width:1;"/><line style="stroke:#FFF3B0;stroke-width:1;stroke-dasharray:2,2;" x1="292.126" x2="522.6655" y1="238.041" y2="238.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="304.126" y="233.2988">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.9639" x="316.7017" y="233.2988">UnsupportedCurrencyException</text></g><g class="message" data-participant-1="OrderController" data-participant-2="Client"><polygon fill="#181818" points="83.7524,263.3516,73.7524,267.3516,83.7524,271.3516,79.7524,267.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="77.7524" x2="286.126" y1="267.3516" y2="267.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="89.7524" y="262.6094">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.7397" x="102.3281" y="262.6094">400 Unsupported currency</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="40" x2="856.0029" y1="276.3516" y2="276.3516"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="89.3911" x="45" y="286.9863">[Valid currency]</text><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="Order"><polygon fill="#181818" points="807.5308,307.6172,817.5308,311.6172,807.5308,315.6172,811.5308,311.6172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="533.6655" x2="813.5308" y1="311.6172" y2="311.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="540.6655" y="306.875">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.6123" x="553.2412" y="306.875">create(amount, currency)</text></g><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="PromoService"><polygon fill="#181818" points="1240.4883,343.9277,1250.4883,347.9277,1240.4883,351.9277,1244.4883,347.9277" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="533.6655" x2="1246.4883" y1="347.9277" y2="347.9277"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="540.6655" y="343.1855">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.2153" x="553.2412" y="343.1855">getDiscountPercent (0-100%)</text></g><g class="message" data-participant-1="PromoService" data-participant-2="PromoAPI"><polygon fill="#181818" points="1510.5601,373.2383,1520.5601,377.2383,1510.5601,381.2383,1514.5601,377.2383" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1262.4883" x2="1516.5601" y1="377.2383" y2="377.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="1269.4883" y="372.4961">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.5439" x="1282.064" y="372.4961">request</text></g><g class="message" data-participant-1="PromoAPI" data-participant-2="PromoService"><polygon fill="#181818" points="1273.4883,402.5488,1263.4883,406.5488,1273.4883,410.5488,1269.4883,406.5488" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1267.4883" x2="1521.5601" y1="406.5488" y2="406.5488"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="1279.4883" y="401.8066">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.5757" x="1292.064" y="401.8066">percent</text></g><g class="message" data-participant-1="PromoService" data-participant-2="CreateOrderHandler"><polygon fill="#181818" points="544.6655,431.8594,534.6655,435.8594,544.6655,439.8594,540.6655,435.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="538.6655" x2="1256.4883" y1="435.8594" y2="435.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="550.6655" y="431.1172">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.7881" x="571.8169" y="431.1172">discountPercent</text></g><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="CreateOrderHandler"><line style="stroke:#181818;stroke-width:1;" x1="533.6655" x2="575.6655" y1="465.1699" y2="465.1699"/><line style="stroke:#181818;stroke-width:1;" x1="575.6655" x2="575.6655" y1="465.1699" y2="478.1699"/><line style="stroke:#181818;stroke-width:1;" x1="534.6655" x2="575.6655" y1="478.1699" y2="478.1699"/><polygon fill="#181818" points="544.6655,474.1699,534.6655,478.1699,544.6655,482.1699,540.6655,478.1699" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="540.6655" y="460.4277">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.4155" x="561.8169" y="460.4277">apply discount</text></g><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="FxConverter"><polygon fill="#181818" points="1022.376,503.4805,1032.376,507.4805,1022.376,511.4805,1026.376,507.4805" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="533.6655" x2="1028.376" y1="507.4805" y2="507.4805"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="540.6655" y="502.7383">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.9946" x="561.8169" y="502.7383">convertToUSD(discountedAmount)</text></g><g class="message" data-participant-1="FxConverter" data-participant-2="CreateOrderHandler"><polygon fill="#181818" points="544.6655,532.791,534.6655,536.791,544.6655,540.791,540.6655,536.791" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="538.6655" x2="1038.376" y1="536.791" y2="536.791"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="550.6655" y="532.0488">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.5913" x="571.8169" y="532.0488">chargedAmountUSD</text></g><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="RiskChecker"><polygon fill="#181818" points="1129.3164,562.1016,1139.3164,566.1016,1129.3164,570.1016,1133.3164,566.1016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="533.6655" x2="1135.3164" y1="566.1016" y2="566.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="540.6655" y="561.3594">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.9761" x="561.8169" y="561.3594">assess(chargedAmountUSD)</text></g><g class="message" data-participant-1="RiskChecker" data-participant-2="CreateOrderHandler"><polygon fill="#181818" points="544.6655,591.4121,534.6655,595.4121,544.6655,599.4121,540.6655,595.4121" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="538.6655" x2="1145.3164" y1="595.4121" y2="595.4121"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="550.6655" y="590.6699">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38.1812" x="571.8169" y="590.6699">allow?</text></g><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="OrderController"><polygon fill="#FFF3B0" points="298.126,645.0332,288.126,649.0332,298.126,653.0332,294.126,649.0332" style="stroke:#FFF3B0;stroke-width:1;"/><line style="stroke:#FFF3B0;stroke-width:1;stroke-dasharray:2,2;" x1="292.126" x2="522.6655" y1="649.0332" y2="649.0332"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="304.126" y="644.291">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.5439" x="325.2773" y="644.291">OrderRejectedException</text></g><g class="message" data-participant-1="OrderController" data-participant-2="Client"><polygon fill="#181818" points="83.7524,674.3438,73.7524,678.3438,83.7524,682.3438,79.7524,678.3438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="77.7524" x2="286.126" y1="678.3438" y2="678.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="89.7524" y="673.6016">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.7549" x="110.9038" y="673.6016">422 Order rejected</text></g><path d="M20,708.2988 L82.1387,708.2988 L82.1387,715.6094 L72.1387,725.6094 L20,725.6094 L20,708.2988" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="640.0762" style="stroke:#000000;stroke-width:1.5;" width="1824.6611" x="20" y="708.2988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="35" y="721.8672">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="223.8726" x="97.1387" y="720.9336">[Free order (chargedAmountUSD == 0)]</text><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="CreateOrderHandler"><line style="stroke:#181818;stroke-width:1;" x1="533.6655" x2="575.6655" y1="746.9199" y2="746.9199"/><line style="stroke:#181818;stroke-width:1;" x1="575.6655" x2="575.6655" y1="746.9199" y2="759.9199"/><line style="stroke:#181818;stroke-width:1;" x1="534.6655" x2="575.6655" y1="759.9199" y2="759.9199"/><polygon fill="#181818" points="544.6655,755.9199,534.6655,759.9199,544.6655,763.9199,540.6655,759.9199" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="540.6655" y="742.1777">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235.7139" x="561.8169" y="742.1777">transactionId = free_* (skip payment)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="20" x2="1844.6611" y1="768.9199" y2="768.9199"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="66.6177" x="25" y="779.5547">[Paid order]</text><path d="M30,789.875 L104.4468,789.875 L104.4468,797.1855 L94.4468,807.1855 L30,807.1855 L30,789.875" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="492.8789" style="stroke:#000000;stroke-width:1.5;" width="1804.6611" x="30" y="789.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="45" y="803.4434">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="136.2754" x="119.4468" y="802.5098">[Retry up to 3 attempts]</text><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="PaymentGateway"><polygon fill="#181818" points="1367.1709,824.4961,1377.1709,828.4961,1367.1709,832.4961,1371.1709,828.4961" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="533.6655" x2="1373.1709" y1="828.4961" y2="828.4961"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="540.6655" y="823.7539">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211.5928" x="561.8169" y="823.7539">charge(chargedAmountUSD, USD)</text></g><g class="message" data-participant-1="PaymentGateway" data-participant-2="PaymentAPI"><polygon fill="#181818" points="1646.4712,853.8066,1656.4712,857.8066,1646.4712,861.8066,1650.4712,857.8066" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1389.1709" x2="1652.4712" y1="857.8066" y2="857.8066"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="1396.1709" y="853.0645">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42.5737" x="1417.3223" y="853.0645">charge</text></g><path d="M50,872.8066 L112.1387,872.8066 L112.1387,880.1172 L102.1387,890.1172 L50,890.1172 L50,872.8066" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="180.8184" style="stroke:#000000;stroke-width:1.5;" width="1680.1416" x="50" y="872.8066"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="65" y="886.375">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="245.0347" x="127.1387" y="885.4414">[TransientPaymentException (attempt &lt; 3)]</text><g class="message" data-participant-1="PaymentAPI" data-participant-2="PaymentGateway"><polygon fill="#181818" points="1400.1709,907.4277,1390.1709,911.4277,1400.1709,915.4277,1396.1709,911.4277" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1394.1709" x2="1657.4712" y1="911.4277" y2="911.4277"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="1406.1709" y="906.6855">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.2856" x="1427.3223" y="906.6855">transient error</text></g><g class="message" data-participant-1="PaymentGateway" data-participant-2="CreateOrderHandler"><polygon fill="#181818" points="544.6655,936.7383,534.6655,940.7383,544.6655,944.7383,540.6655,940.7383" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="538.6655" x2="1378.1709" y1="940.7383" y2="940.7383"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="550.6655" y="935.9961">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.2041" x="571.8169" y="935.9961">transient failure</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="50" x2="1730.1416" y1="949.7383" y2="949.7383"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.2554" x="55" y="960.373">[Success]</text><g class="message" data-participant-1="PaymentAPI" data-participant-2="PaymentGateway"><polygon fill="#181818" points="1400.1709,981.0039,1390.1709,985.0039,1400.1709,989.0039,1396.1709,985.0039" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1394.1709" x2="1657.4712" y1="985.0039" y2="985.0039"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="1406.1709" y="980.2617">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.4941" x="1427.3223" y="980.2617">transactionId</text></g><g class="message" data-participant-1="PaymentGateway" data-participant-2="CreateOrderHandler"><polygon fill="#181818" points="544.6655,1010.3145,534.6655,1014.3145,544.6655,1018.3145,540.6655,1014.3145" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="538.6655" x2="1378.1709" y1="1014.3145" y2="1014.3145"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="550.6655" y="1009.5723">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.4941" x="571.8169" y="1009.5723">transactionId</text></g><path d="M60,1029.3145 L143.0098,1029.3145 L143.0098,1036.625 L133.0098,1046.625 L60,1046.625 L60,1029.3145" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="17.3105" style="stroke:#000000;stroke-width:1.5;" width="88.0098" x="60" y="1029.3145"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="38.0098" x="75" y="1042.8828">break</text><path d="M40,1067.625 L102.1387,1067.625 L102.1387,1074.9355 L92.1387,1084.9355 L40,1084.9355 L40,1067.625" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="208.1289" style="stroke:#000000;stroke-width:1.5;" width="1784.6611" x="40" y="1067.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="55" y="1081.1934">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="269.4355" x="117.1387" y="1080.2598">[TransientPaymentException (after 3 attempts)]</text><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="OrderController"><polygon fill="#FFF3B0" points="298.126,1102.2461,288.126,1106.2461,298.126,1110.2461,294.126,1106.2461" style="stroke:#FFF3B0;stroke-width:1;"/><line style="stroke:#FFF3B0;stroke-width:1;stroke-dasharray:2,2;" x1="292.126" x2="522.6655" y1="1106.2461" y2="1106.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="304.126" y="1101.5039">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.5859" x="325.2773" y="1101.5039">TransientPaymentException</text></g><g class="message" data-participant-1="OrderController" data-participant-2="Client"><polygon fill="#181818" points="83.7524,1131.5566,73.7524,1135.5566,83.7524,1139.5566,79.7524,1135.5566" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="77.7524" x2="286.126" y1="1135.5566" y2="1135.5566"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="89.7524" y="1130.8145">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.2529" x="110.9038" y="1130.8145">503 Payment failed</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="40" x2="1824.6611" y1="1144.5566" y2="1144.5566"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="119.2651" x="45" y="1155.1914">[Payment succeeded]</text><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="OrderRepository"><polygon fill="#181818" points="901.5381,1175.8223,911.5381,1179.8223,901.5381,1183.8223,905.5381,1179.8223" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="533.6655" x2="907.5381" y1="1179.8223" y2="1179.8223"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="540.6655" y="1175.0801">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.2813" x="561.8169" y="1175.0801">save(order)</text></g><g class="message" data-participant-1="OrderRepository" data-participant-2="DataStore"><polygon fill="#181818" points="1760.4014,1205.1328,1770.4014,1209.1328,1760.4014,1213.1328,1764.4014,1209.1328" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="923.5381" x2="1766.4014" y1="1209.1328" y2="1209.1328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="930.5381" y="1204.3906">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.1987" x="951.6895" y="1204.3906">write</text></g><g class="message" data-participant-1="DataStore" data-participant-2="OrderRepository"><polygon fill="#181818" points="934.5381,1234.4434,924.5381,1238.4434,934.5381,1242.4434,930.5381,1238.4434" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="928.5381" x2="1771.4014" y1="1238.4434" y2="1238.4434"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="940.5381" y="1233.7012">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40.2188" x="961.6895" y="1233.7012">stored</text></g><g class="message" data-participant-1="OrderRepository" data-participant-2="CreateOrderHandler"><polygon fill="#181818" points="544.6655,1263.7539,534.6655,1267.7539,544.6655,1271.7539,540.6655,1267.7539" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="538.6655" x2="917.5381" y1="1267.7539" y2="1267.7539"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="550.6655" y="1263.0117">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.5835" x="571.8169" y="1263.0117">ok</text></g><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="OrderController"><polygon fill="#FFF3B0" points="298.126,1307.0645,288.126,1311.0645,298.126,1315.0645,294.126,1311.0645" style="stroke:#FFF3B0;stroke-width:1;"/><line style="stroke:#FFF3B0;stroke-width:1;stroke-dasharray:2,2;" x1="292.126" x2="522.6655" y1="1311.0645" y2="1311.0645"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="304.126" y="1306.3223">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.3203" x="325.2773" y="1306.3223">OrderCreated (domain event)</text></g><g class="message" data-participant-1="OrderController" data-participant-2="Client"><polygon fill="#181818" points="83.7524,1336.375,73.7524,1340.375,83.7524,1344.375,79.7524,1340.375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="77.7524" x2="286.126" y1="1340.375" y2="1340.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="89.7524" y="1335.6328">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.7969" x="110.9038" y="1335.6328">201 Created</text></g><line style="stroke:#A80036;stroke-width:2;" x1="519.6655" x2="537.6655" y1="1355.375" y2="1373.375"/><line style="stroke:#A80036;stroke-width:2;" x1="519.6655" x2="537.6655" y1="1373.375" y2="1355.375"/><path d="M404,1378.375 L404,1479.375 L652,1479.375 L652,1388.375 L642,1378.375 L404,1378.375" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M642,1378.375 L642,1388.375 L652,1388.375 L642,1378.375" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.5562" x="410" y="1395.9434">OrderCreated event:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.1255" x="410" y="1411.2539">- orderId, original amount/currency</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.2266" x="410" y="1426.5645">- chargedAmountUSD</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.3945" x="410" y="1441.875">- discountPercent (0-100)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.9565" x="410" y="1457.1855">- transactionId (free_* or gateway)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.001" x="410" y="1472.4961">- occurredAt timestamp</text><a href="https://mundiir.github.io/meetup-2025-orders-service/c4-component.svg" target="_top" title="https://mundiir.github.io/meetup-2025-orders-service/c4-component.svg" xlink:actuate="onRequest" xlink:href="https://mundiir.github.io/meetup-2025-orders-service/c4-component.svg" xlink:show="new" xlink:title="https://mundiir.github.io/meetup-2025-orders-service/c4-component.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="10" lengthAdjust="spacing" text-decoration="underline" textLength="111.416" x="876.1226" y="1723.3242">Back to C4 Component</text></a><rect fill="#DDDDDD" height="112.9297" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1;" width="327.5361" x="12" y="1587.7266"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.0391" x="21.4297" y="1608.2617">Layer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="281.1064" y="1608.2617">Sample</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.4307" x="21.4297" y="1624.75">Presentation</text><rect fill="#C7F9CC" height="16.4883" style="stroke:none;stroke-width:1;" width="57.8594" x="276.6768" y="1611.2148"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="276.6768" y="1624.75">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.8496" x="21.4297" y="1641.2383">Application</text><rect fill="#FFF3B0" height="16.4883" style="stroke:none;stroke-width:1;" width="57.8594" x="276.6768" y="1627.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="276.6768" y="1641.2383">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.623" x="21.4297" y="1657.7266">Domain</text><rect fill="#E8EAED" height="16.4883" style="stroke:none;stroke-width:1;" width="57.8594" x="276.6768" y="1644.1914"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="276.6768" y="1657.7266">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250.8174" x="21.4297" y="1674.2148">Infrastructure (Adapters/Persistence)</text><rect fill="#FFD6A5" height="16.4883" style="stroke:none;stroke-width:1;" width="57.8594" x="276.6768" y="1660.6797"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="276.6768" y="1674.2148">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.6689" x="21.4297" y="1690.7031">External Actor/System</text><rect fill="#AEE3FF" height="16.4883" style="stroke:none;stroke-width:1;" width="57.8594" x="276.6768" y="1677.168"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="276.6768" y="1690.7031">&#160;</text><line style="stroke:#000000;stroke-width:1;" x1="17" x2="334.5361" y1="1594.7266" y2="1594.7266"/><line style="stroke:#000000;stroke-width:1;" x1="17" x2="334.5361" y1="1611.2148" y2="1611.2148"/><line style="stroke:#000000;stroke-width:1;" x1="17" x2="334.5361" y1="1627.7031" y2="1627.7031"/><line style="stroke:#000000;stroke-width:1;" x1="17" x2="334.5361" y1="1644.1914" y2="1644.1914"/><line style="stroke:#000000;stroke-width:1;" x1="17" x2="334.5361" y1="1660.6797" y2="1660.6797"/><line style="stroke:#000000;stroke-width:1;" x1="17" x2="334.5361" y1="1677.168" y2="1677.168"/><line style="stroke:#000000;stroke-width:1;" x1="17" x2="334.5361" y1="1693.6563" y2="1693.6563"/><line style="stroke:#000000;stroke-width:1;" x1="17" x2="17" y1="1594.7266" y2="1693.6563"/><line style="stroke:#000000;stroke-width:1;" x1="276.6768" x2="276.6768" y1="1594.7266" y2="1693.6563"/><line style="stroke:#000000;stroke-width:1;" x1="334.5361" x2="334.5361" y1="1594.7266" y2="1693.6563"/><!--SRC=[fLVRRXit47tVhnZOQBjglPOYsxqeSGf5byP0WGYMqnV3AEWb9RFQNMv8hcm1ViWl5CWNvaiw97UbrLwKDir3OEtCd3bpuN3u7Oma8vh1EqcPXCyVFy6SVSXO4ZBmKH91A2Y3XCHClOHKIAtW1z2F8dWGwKiKHa8o2X5RieHsF99faMJnFPEUHq8j98mYpX8DnyF9v6mwzRnxyGH7rfb2JtBDGtO4nsFxpmD8YTGyv2b16wir4ecM8egGtF7ef-aler55o_6tkcz9GgtYT3ezUzDhWeFZoS-JuQJHrJLBXU98UcCGnZyEBofQqoTaisPIEnyD6jTShKOFB5orQioaY4KUU9iAsSIOizymh4Uouu891ioUvvLrZomUd4dw-UFVHh0v0gASb-7iQfltVHldO9T_O-6-jTgCYIOmn-GuTVFJ_jhIy_9A1w-hXHl0xDty1hh2LTqlTrp7grOPxUib7S3aYOMPPgQh-DgOrvMGGhqNMk3-816d1YRCfCHkty2tG6AH9TeZaORtYSfIq-sCZdA5oLF8Kir5WjLgydERTzrTKmA-W5VBWM5jqpc0yrwlRBubxB58CHV7xbipjPpG048hz5sW9rkpZkcjjkoL6tO0IwR7N8N6ViPaQ0hkzu8NlTutdLrfoYRUNiCNUDXc0v1cq2ZjRPirgBbBdOyAI4jDwJunZx9cHl- -IqYQHfijRbk6IcC1K-p-l17lvsE_i6HqQ5DUob79o2lFbRRWmWSYbmKEOfUZAsErS2mD9WnBAQQKNuKiiIkfU-MPriQEH95u_BNCgOnWZrG-OlzY8QRZVnscLgI3nwZVpsy0cLkw0pGCZJt-0Z0ifv8ni8CAQlc1oqleTL2nxPGrPKPBaYYJ5P5SKRY41JhuytlmrOgdEFNjq3MObioCu66stgsNI8WKhfd62obBGUEO1w8rYrEjhBoDn_u5KlHEBPuJi4LtIBkZicUSIojNqiw7FSWEk032BDwOe4tUSwrjaS3F0u1NS5QuXlBb4pJmrmKSC2c5h9fjMHqgWJLV41vbic1gKpxFi06K-azKYd9-5P6QyJrghWfAIV6zFBpg5IdqlfJiXHafkwxf76YRWqUkrKSEUEZaNVJEYX1i0PYZdZUy-wvC5HXbz61VLxQq0IYoPhvmUqIbZIkwPPwbFGz1jvlC01ubrqLpx1QSeD6p4T4sr9RwYrMzk4qyNNNT_ryt7PqL1P-AcF04s3eVCuSArU-zoDrHjn1Gl9sbs3IkMeb0yW8ldIRf7WVhU-05Rh1TqHFyWozvWcyBjuXqj-jBKB_cWkgrdkyR7PJiprO_7wtuw5Ywes9qH6ZHwL23vlY8qIHExIfj0l0yzt31zyj2OtQUuNUomP2UOOvg4ODd-t4ccKBFn1wgPtYLFqHUv-8XRWayt4bTSGhfs5N02DpJen1S9Gj9CC5Pg74cWJ-a12yYgReOgE9AcpTO9mSq6tPXDtb2BPEzeNbWTUSRL8sjdjlRZHupTLZQ8Yw4C4FWzlP1wrGDkjquIoZdydJ9zKDsVyf5DsPCPsdGx_Kl0hUa1yhjIjtmF0X5d8e4upzLwoMy8U7AN4MZSnWLWhkxVm00]--></g></svg>