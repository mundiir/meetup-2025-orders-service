<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="948px" preserveAspectRatio="none" style="width:1201px;height:948px;background:#FFFFFF;" version="1.1" viewBox="0 0 1201 948" width="1201px" zoomAndPan="magnify"><defs/><g><g><title>CreateOrderHandler</title><rect fill="#FFFFFF" height="95.9316" style="stroke:#181818;stroke-width:1;" width="10" x="359.3867" y="142.1094"/></g><g><title>PromoService</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="650.7627" y="288.3516"/></g><g><title>FxConverter</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="761.5996" y="346.9727"/></g><g><title>RiskChecker</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="868.54" y="405.5938"/></g><g><title>PaymentGateway</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="991.3262" y="631.7676"/></g><g><title>OrderRepository</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1128.0098" y="761.6543"/></g><rect fill="none" height="60.6211" style="stroke:#000000;stroke-width:1.5;" width="384.085" x="65.3125" y="199.4199"/><rect fill="none" height="60.6211" style="stroke:#000000;stroke-width:1.5;" width="384.085" x="65.3125" y="449.9043"/><rect fill="none" height="208.8184" style="stroke:#000000;stroke-width:1.5;" width="811.0986" x="269.376" y="524.5254"/><rect fill="none" height="133.1973" style="stroke:#000000;stroke-width:1.5;" width="791.0986" x="279.376" y="593.1465"/><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="786.0977" width="8" x="23.7524" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="27" x2="27" y1="81.4883" y2="867.5859"/></g><g><title>OrderController</title><rect fill="#000000" fill-opacity="0.00000" height="786.0977" width="8" x="131.8652" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="135.3125" x2="135.3125" y1="81.4883" y2="867.5859"/></g><g><title>CreateOrderHandler</title><rect fill="#000000" fill-opacity="0.00000" height="786.0977" width="8" x="360.3867" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="364.376" x2="364.376" y1="81.4883" y2="867.5859"/></g><g><title>PromoService</title><rect fill="#000000" fill-opacity="0.00000" height="786.0977" width="8" x="651.7627" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="655.2285" x2="655.2285" y1="81.4883" y2="867.5859"/></g><g><title>FxConverter</title><rect fill="#000000" fill-opacity="0.00000" height="786.0977" width="8" x="762.5996" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="766.2969" x2="766.2969" y1="81.4883" y2="867.5859"/></g><g><title>RiskChecker</title><rect fill="#000000" fill-opacity="0.00000" height="786.0977" width="8" x="869.54" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="872.9023" x2="872.9023" y1="81.4883" y2="867.5859"/></g><g><title>PaymentGateway</title><rect fill="#000000" fill-opacity="0.00000" height="786.0977" width="8" x="992.3262" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="996.1777" x2="996.1777" y1="81.4883" y2="867.5859"/></g><g><title>OrderRepository</title><rect fill="#000000" fill-opacity="0.00000" height="786.0977" width="8" x="1129.0098" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1132.4746" x2="1132.4746" y1="81.4883" y2="867.5859"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="5" y="78.5352">Client</text><ellipse cx="27.7524" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.7524,21.5 L27.7524,48.5 M14.7524,29.5 L40.7524,29.5 M27.7524,48.5 L14.7524,63.5 M27.7524,48.5 L40.7524,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="5" y="880.1211">Client</text><ellipse cx="27.7524" cy="891.5742" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M27.7524,899.5742 L27.7524,926.5742 M14.7524,907.5742 L40.7524,907.5742 M27.7524,926.5742 L14.7524,941.5742 M27.7524,926.5742 L40.7524,941.5742" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Controller"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.1055" x="75.3125" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.1055" x="82.3125" y="70.5352">OrderController</text></g><g class="participant participant-tail" data-participant="Controller"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.1055" x="75.3125" y="866.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.1055" x="82.3125" y="887.1211">OrderController</text></g><g class="participant participant-head" data-participant="Handler"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.0215" x="289.376" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.0215" x="296.376" y="70.5352">CreateOrderHandler</text></g><g class="participant participant-tail" data-participant="Handler"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.0215" x="289.376" y="866.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.0215" x="296.376" y="887.1211">CreateOrderHandler</text></g><g class="participant participant-head" data-participant="Promo"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.0684" x="603.2285" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.0684" x="610.2285" y="70.5352">PromoService</text></g><g class="participant participant-tail" data-participant="Promo"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.0684" x="603.2285" y="866.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.0684" x="610.2285" y="887.1211">PromoService</text></g><g class="participant participant-head" data-participant="Fx"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96.6055" x="718.2969" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.6055" x="725.2969" y="70.5352">FxConverter</text></g><g class="participant participant-tail" data-participant="Fx"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96.6055" x="718.2969" y="866.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.6055" x="725.2969" y="887.1211">FxConverter</text></g><g class="participant participant-head" data-participant="Risk"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.2754" x="824.9023" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.2754" x="831.9023" y="70.5352">RiskChecker</text></g><g class="participant participant-tail" data-participant="Risk"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.2754" x="824.9023" y="866.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.2754" x="831.9023" y="887.1211">RiskChecker</text></g><g class="participant participant-head" data-participant="Payment"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.2969" x="932.1777" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.2969" x="939.1777" y="70.5352">PaymentGateway</text></g><g class="participant participant-tail" data-participant="Payment"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.2969" x="932.1777" y="866.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.2969" x="939.1777" y="887.1211">PaymentGateway</text></g><g class="participant participant-head" data-participant="Repo"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.0703" x="1070.4746" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.0703" x="1077.4746" y="70.5352">OrderRepository</text></g><g class="participant participant-tail" data-participant="Repo"><rect fill="#E2E2F0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.0703" x="1070.4746" y="866.5859"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.0703" x="1077.4746" y="887.1211">OrderRepository</text></g><g><title>CreateOrderHandler</title><rect fill="#FFFFFF" height="95.9316" style="stroke:#181818;stroke-width:1;" width="10" x="359.3867" y="142.1094"/></g><g><title>PromoService</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="650.7627" y="288.3516"/></g><g><title>FxConverter</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="761.5996" y="346.9727"/></g><g><title>RiskChecker</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="868.54" y="405.5938"/></g><g><title>PaymentGateway</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="991.3262" y="631.7676"/></g><g><title>OrderRepository</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1128.0098" y="761.6543"/></g><g class="message" data-participant-1="Client" data-participant-2="Controller"><polygon fill="#181818" points="123.8652,108.7988,133.8652,112.7988,123.8652,116.7988,127.8652,112.7988" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="27.7524" x2="129.8652" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84.1128" x="34.7524" y="108.0566">POST /orders</text></g><g class="message" data-participant-1="Controller" data-participant-2="Handler"><polygon fill="#181818" points="347.3867,138.1094,357.3867,142.1094,347.3867,146.1094,351.3867,142.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="135.8652" x2="353.3867" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.5215" x="142.8652" y="137.3672">__invoke(CreateOrderCommand)</text></g><g class="message" data-participant-1="Handler" data-participant-2="Handler"><line style="stroke:#181818;stroke-width:1;" x1="369.3867" x2="411.3867" y1="171.4199" y2="171.4199"/><line style="stroke:#181818;stroke-width:1;" x1="411.3867" x2="411.3867" y1="171.4199" y2="184.4199"/><line style="stroke:#181818;stroke-width:1;" x1="370.3867" x2="411.3867" y1="184.4199" y2="184.4199"/><polygon fill="#181818" points="380.3867,180.4199,370.3867,184.4199,380.3867,188.4199,376.3867,184.4199" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107.1294" x="376.3867" y="166.6777">validate currency</text></g><path d="M65.3125,199.4199 L127.4512,199.4199 L127.4512,206.7305 L117.4512,216.7305 L65.3125,216.7305 L65.3125,199.4199" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="60.6211" style="stroke:#000000;stroke-width:1.5;" width="384.085" x="65.3125" y="199.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="80.3125" y="212.9883">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="134.3579" x="142.4512" y="212.0547">[Unsupported currency]</text><g class="message" data-participant-1="Handler" data-participant-2="Controller"><polygon fill="#181818" points="146.8652,234.041,136.8652,238.041,146.8652,242.041,142.8652,238.041" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="140.8652" x2="363.3867" y1="238.041" y2="238.041"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.5532" x="152.8652" y="233.2988">throw UnsupportedCurrency</text></g><g class="message" data-participant-1="Controller" data-participant-2="Handler"><polygon fill="#181818" points="352.3867,248.041,362.3867,252.041,352.3867,256.041,356.3867,252.041" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="135.8652" x2="358.3867" y1="252.041" y2="252.041"/></g><g class="message" data-participant-1="Handler" data-participant-2="Promo"><polygon fill="#181818" points="638.7627,284.3516,648.7627,288.3516,638.7627,292.3516,642.7627,288.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="364.3867" x2="644.7627" y1="288.3516" y2="288.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="267.376" x="371.3867" y="283.6094">getDiscountPercent(promoCode, currency)</text></g><g class="message" data-participant-1="Promo" data-participant-2="Handler"><polygon fill="#181818" points="375.3867,313.6621,365.3867,317.6621,375.3867,321.6621,371.3867,317.6621" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="369.3867" x2="654.7627" y1="317.6621" y2="317.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.5757" x="381.3867" y="312.9199">percent</text></g><g class="message" data-participant-1="Handler" data-participant-2="Fx"><polygon fill="#181818" points="749.5996,342.9727,759.5996,346.9727,749.5996,350.9727,753.5996,346.9727" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="364.3867" x2="755.5996" y1="346.9727" y2="346.9727"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="281.0806" x="371.3867" y="342.2305">convert(discountedAmount, currency, "USD")</text></g><g class="message" data-participant-1="Fx" data-participant-2="Handler"><polygon fill="#181818" points="375.3867,372.2832,365.3867,376.2832,375.3867,380.2832,371.3867,376.2832" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="369.3867" x2="765.5996" y1="376.2832" y2="376.2832"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.8452" x="381.3867" y="371.541">chargedAmount</text></g><g class="message" data-participant-1="Handler" data-participant-2="Risk"><polygon fill="#181818" points="856.54,401.5938,866.54,405.5938,856.54,409.5938,860.54,405.5938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="364.3867" x2="862.54" y1="405.5938" y2="405.5938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255.5566" x="371.3867" y="400.8516">isAllowed(order, chargedAmount, "USD")</text></g><g class="message" data-participant-1="Risk" data-participant-2="Handler"><polygon fill="#181818" points="375.3867,430.9043,365.3867,434.9043,375.3867,438.9043,371.3867,434.9043" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="369.3867" x2="872.54" y1="434.9043" y2="434.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="53.606" x="381.3867" y="430.1621">allowed?</text></g><path d="M65.3125,449.9043 L127.4512,449.9043 L127.4512,457.2148 L117.4512,467.2148 L65.3125,467.2148 L65.3125,449.9043" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="60.6211" style="stroke:#000000;stroke-width:1.5;" width="384.085" x="65.3125" y="449.9043"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="80.3125" y="463.4727">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="75.5874" x="142.4512" y="462.5391">[Not allowed]</text><g class="message" data-participant-1="Handler" data-participant-2="Controller"><polygon fill="#181818" points="146.8652,484.5254,136.8652,488.5254,146.8652,492.5254,142.8652,488.5254" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="140.8652" x2="363.3867" y1="488.5254" y2="488.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="130.1333" x="152.8652" y="483.7832">throw OrderRejected</text></g><g class="message" data-participant-1="Controller" data-participant-2="Handler"><polygon fill="#181818" points="352.3867,498.5254,362.3867,502.5254,352.3867,506.5254,356.3867,502.5254" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="135.8652" x2="358.3867" y1="502.5254" y2="502.5254"/></g><path d="M269.376,524.5254 L331.5146,524.5254 L331.5146,531.8359 L321.5146,541.8359 L269.376,541.8359 L269.376,524.5254" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="208.8184" style="stroke:#000000;stroke-width:1.5;" width="811.0986" x="269.376" y="524.5254"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="284.376" y="538.0938">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="130.394" x="346.5146" y="537.1602">[chargedAmount == 0]</text><g class="message" data-participant-1="Handler" data-participant-2="Handler"><line style="stroke:#181818;stroke-width:1;" x1="364.3867" x2="406.3867" y1="563.1465" y2="563.1465"/><line style="stroke:#181818;stroke-width:1;" x1="406.3867" x2="406.3867" y1="563.1465" y2="576.1465"/><line style="stroke:#181818;stroke-width:1;" x1="365.3867" x2="406.3867" y1="576.1465" y2="576.1465"/><polygon fill="#181818" points="375.3867,572.1465,365.3867,576.1465,375.3867,580.1465,371.3867,576.1465" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="148.1162" x="371.3867" y="558.4043">transactionId = "free_*"</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="269.376" x2="1080.4746" y1="585.1465" y2="585.1465"/><path d="M279.376,593.1465 L353.8228,593.1465 L353.8228,600.457 L343.8228,610.457 L279.376,610.457 L279.376,593.1465" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="133.1973" style="stroke:#000000;stroke-width:1.5;" width="791.0986" x="279.376" y="593.1465"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="294.376" y="606.7148">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="102.7437" x="368.8228" y="605.7813">[up to 3 attempts]</text><g class="message" data-participant-1="Handler" data-participant-2="Payment"><polygon fill="#181818" points="979.3262,627.7676,989.3262,631.7676,979.3262,635.7676,983.3262,631.7676" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="364.3867" x2="985.3262" y1="631.7676" y2="631.7676"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195.5586" x="371.3867" y="627.0254">charge(chargedAmount, "USD")</text></g><g class="message" data-participant-1="Payment" data-participant-2="Handler"><polygon fill="#181818" points="375.3867,657.0781,365.3867,661.0781,375.3867,665.0781,371.3867,661.0781" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="369.3867" x2="995.3262" y1="661.0781" y2="661.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.4941" x="381.3867" y="656.3359">transactionId</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="279.376" x2="1070.4746" y1="670.0781" y2="670.0781"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="165.7573" x="284.376" y="680.7129">[TransientPaymentException]</text><g class="message" data-participant-1="Handler" data-participant-2="Handler"><line style="stroke:#181818;stroke-width:1;" x1="364.3867" x2="406.3867" y1="705.3438" y2="705.3438"/><line style="stroke:#181818;stroke-width:1;" x1="406.3867" x2="406.3867" y1="705.3438" y2="718.3438"/><line style="stroke:#181818;stroke-width:1;" x1="365.3867" x2="406.3867" y1="718.3438" y2="718.3438"/><polygon fill="#181818" points="375.3867,714.3438,365.3867,718.3438,375.3867,722.3438,371.3867,718.3438" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="125.5947" x="371.3867" y="700.6016">exponential backoff</text></g><g class="message" data-participant-1="Handler" data-participant-2="Repo"><polygon fill="#181818" points="1116.0098,757.6543,1126.0098,761.6543,1116.0098,765.6543,1120.0098,761.6543" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="364.3867" x2="1122.0098" y1="761.6543" y2="761.6543"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.2813" x="371.3867" y="756.9121">save(order)</text></g><g class="message" data-participant-1="Repo" data-participant-2="Handler"><polygon fill="#181818" points="375.3867,786.9648,365.3867,790.9648,375.3867,794.9648,371.3867,790.9648" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="369.3867" x2="1132.0098" y1="790.9648" y2="790.9648"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.5835" x="381.3867" y="786.2227">ok</text></g><g class="message" data-participant-1="Handler" data-participant-2="Controller"><polygon fill="#181818" points="146.8652,816.2754,136.8652,820.2754,146.8652,824.2754,142.8652,820.2754" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="140.8652" x2="363.3867" y1="820.2754" y2="820.2754"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="85.1855" x="152.8652" y="815.5332">OrderCreated</text></g><g class="message" data-participant-1="Controller" data-participant-2="Client"><polygon fill="#181818" points="38.7524,845.5859,28.7524,849.5859,38.7524,853.5859,34.7524,849.5859" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="32.7524" x2="134.8652" y1="849.5859" y2="849.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.7969" x="44.7524" y="844.8438">201 Created</text></g><!--SRC=[XLJ1ZjCm4BtxAqQzK50H2zmYTT4gIm49iTLsUwwCFTsQ9hPbksbwuoFuGhu4sqaJkxjeBqxiUJFlUMOyhw0qI1tU6Ou6rXQXf7xv-_iFt6XT2KQTK1A-qvCt7uNR0MLEDF7K4k8toa1P2PIEQ6gSO49JwM0I0vPAEgEg2iq4g8LncsCJ2L-fv6Tu_vzXbqRLQeMc4Gm39kupnABrD0qQvmLxmABDhFV2xiiTidrd3TiyFZtL_YvVl9uZFKM6xYH3HQdtg9KL_luH5dQ4T9c0jzV9NGjOtgqUu9qAJfQCXW3hxrZ0PYDae_OuJP9HghhszjUappaEAI7zJnQYePNW0SKEng1a9q8h1sjf3rehdmy-6W2601TQtSweO-fKZZuSdmW1CEWEHXAKF5CL2rF08xfROPawIBT4mtnofZfOIiLnDkX9RjWLDAvHst0xtRcJH4I7JLaNRG6iA_-Kzxp8R-hm7UbcC5clRYS9g- -IHPlpiHqrZsVVbDLZKyhGGWK8UrDLweXy6iiyozsV4iR62qjEIhiWdrA-28sb_A7S6V5Y1ViM_ONCHVIBjGi4cMYOp-4gvKbqEaEb3G6L_CPX3fEjGToycH2iB7gVIYaD1mrEmKUWpc6jdVNdMRJ-PPrJFNq-PS5fh7Z_6CDX_vydC1CMOMc_3Dv19Zm4R7Yl_Vddbg4EdfT2X-ZOQYKzKj0AVbAsLzjj2ERJTzd-OHmKO6c3NKEafG-J8YovShNFYXx7oVzAt4s7E2WuUQQowOm9hd4g5V3XwZsSlVu1]--></g></svg>