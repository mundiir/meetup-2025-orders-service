<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1803px" preserveAspectRatio="none" style="width:1831px;height:1803px;background:#FFFFFF;" version="1.1" viewBox="0 0 1831 1803" width="1831px" zoomAndPan="magnify"><defs/><g><rect fill="#DDDDDD" height="1638.6582" style="stroke:#181818;stroke-width:0.5;" width="1209.7461" x="222.5732" y="6"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="97.8174" x="778.5376" y="18.5684">Orders Service</text><g><title>CreateOrderHandler</title><rect fill="#FFFFFF" height="125.2422" style="stroke:#181818;stroke-width:1;" width="10" x="523.6655" y="142.1094"/></g><g><title>OrderRepository</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="893.5381" y="1267.7539"/></g><g><title>PromoService</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1018.6074" y="377.2383"/></g><g><title>FxConverter</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1129.4443" y="536.791"/></g><g><title>RiskChecker</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1236.3848" y="595.4121"/></g><g><title>PaymentGateway</title><rect fill="#FFFFFF" height="112.2422" style="stroke:#181818;stroke-width:1;" width="10" x="1359.1709" y="887.1172"/></g><rect fill="none" height="149.5078" style="stroke:#000000;stroke-width:1.5;" width="796.0029" x="40" y="199.4199"/><rect fill="none" height="669.3867" style="stroke:#000000;stroke-width:1.5;" width="1804.6611" x="20" y="766.9199"/><rect fill="none" height="522.1895" style="stroke:#000000;stroke-width:1.5;" width="1784.6611" x="30" y="848.4961"/><rect fill="none" height="180.8184" style="stroke:#000000;stroke-width:1.5;" width="1660.1416" x="50" y="931.4277"/><rect fill="none" height="17.3105" style="stroke:#000000;stroke-width:1.5;" width="88.0098" x="60" y="1087.9355"/><rect fill="none" height="237.4395" style="stroke:#000000;stroke-width:1.5;" width="1764.6611" x="40" y="1126.2461"/><g><title>Client</title><rect fill="#000000" fill-opacity="0.00000" height="1483.6816" width="8" x="68.7524" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="72" x2="72" y1="81.4883" y2="1565.1699"/></g><g><title>OrderController</title><rect fill="#000000" fill-opacity="0.00000" height="1483.6816" width="8" x="283.126" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="286.5732" x2="286.5732" y1="81.4883" y2="1565.1699"/></g><g><title>CreateOrderHandler</title><rect fill="#000000" fill-opacity="0.00000" height="1483.6816" width="8" x="524.6655" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="528.6548" x2="528.6548" y1="81.4883" y2="1565.1699"/></g><g><title>Order</title><rect fill="#000000" fill-opacity="0.00000" height="1483.6816" width="8" x="795.5308" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="799.0586" x2="799.0586" y1="81.4883" y2="1565.1699"/></g><g><title>OrderRepository</title><rect fill="#000000" fill-opacity="0.00000" height="1483.6816" width="8" x="894.5381" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="898.0029" x2="898.0029" y1="81.4883" y2="1565.1699"/></g><g><title>PromoService</title><rect fill="#000000" fill-opacity="0.00000" height="1483.6816" width="8" x="1019.6074" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1023.0732" x2="1023.0732" y1="81.4883" y2="1565.1699"/></g><g><title>FxConverter</title><rect fill="#000000" fill-opacity="0.00000" height="1483.6816" width="8" x="1130.4443" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1134.1416" x2="1134.1416" y1="81.4883" y2="1565.1699"/></g><g><title>RiskChecker</title><rect fill="#000000" fill-opacity="0.00000" height="1483.6816" width="8" x="1237.3848" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1240.7471" x2="1240.7471" y1="81.4883" y2="1565.1699"/></g><g><title>PaymentGateway</title><rect fill="#000000" fill-opacity="0.00000" height="1483.6816" width="8" x="1360.1709" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1364.0225" x2="1364.0225" y1="81.4883" y2="1565.1699"/></g><g><title>Promo 3rd.party</title><rect fill="#000000" fill-opacity="0.00000" height="1483.6816" width="8" x="1498.5601" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1502.3193" x2="1502.3193" y1="81.4883" y2="1565.1699"/></g><g><title>Payment Service</title><rect fill="#000000" fill-opacity="0.00000" height="1483.6816" width="8" x="1634.4712" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1637.8008" x2="1637.8008" y1="81.4883" y2="1565.1699"/></g><g><title>Data Store</title><rect fill="#000000" fill-opacity="0.00000" height="1483.6816" width="8" x="1748.4014" y="81.4883"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1752.1416" x2="1752.1416" y1="81.4883" y2="1565.1699"/></g><g class="participant participant-head" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="50" y="78.5352">Client</text><ellipse cx="72.7524" cy="13.5" fill="#AEE3FF" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M72.7524,21.5 L72.7524,48.5 M59.7524,29.5 L85.7524,29.5 M72.7524,48.5 L59.7524,63.5 M72.7524,48.5 L85.7524,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="Client"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39.5049" x="50" y="1577.7051">Client</text><ellipse cx="72.7524" cy="1589.1582" fill="#AEE3FF" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M72.7524,1597.1582 L72.7524,1624.1582 M59.7524,1605.1582 L85.7524,1605.1582 M72.7524,1624.1582 L59.7524,1639.1582 M72.7524,1624.1582 L85.7524,1639.1582" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="OrderController"><rect fill="#C7F9CC" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.1055" x="226.5732" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.1055" x="233.5732" y="70.5352">OrderController</text></g><g class="participant participant-tail" data-participant="OrderController"><rect fill="#C7F9CC" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="121.1055" x="226.5732" y="1564.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="107.1055" x="233.5732" y="1584.7051">OrderController</text></g><g class="participant participant-head" data-participant="CreateOrderHandler"><rect fill="#FFF3B0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.0215" x="453.6548" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.0215" x="460.6548" y="70.5352">CreateOrderHandler</text></g><g class="participant participant-tail" data-participant="CreateOrderHandler"><rect fill="#FFF3B0" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="150.0215" x="453.6548" y="1564.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136.0215" x="460.6548" y="1584.7051">CreateOrderHandler</text></g><g class="participant participant-head" data-participant="Order"><rect fill="#E8EAED" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52.9443" x="773.0586" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.9443" x="780.0586" y="70.5352">Order</text></g><g class="participant participant-tail" data-participant="Order"><rect fill="#E8EAED" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="52.9443" x="773.0586" y="1564.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="38.9443" x="780.0586" y="1584.7051">Order</text></g><g class="participant participant-head" data-participant="OrderRepository"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.0703" x="836.0029" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.0703" x="843.0029" y="70.5352">OrderRepository</text></g><g class="participant participant-tail" data-participant="OrderRepository"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="125.0703" x="836.0029" y="1564.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="111.0703" x="843.0029" y="1584.7051">OrderRepository</text></g><g class="participant participant-head" data-participant="PromoService"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.0684" x="971.0732" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.0684" x="978.0732" y="70.5352">PromoService</text></g><g class="participant participant-tail" data-participant="PromoService"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="105.0684" x="971.0732" y="1564.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="91.0684" x="978.0732" y="1584.7051">PromoService</text></g><g class="participant participant-head" data-participant="FxConverter"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96.6055" x="1086.1416" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.6055" x="1093.1416" y="70.5352">FxConverter</text></g><g class="participant participant-tail" data-participant="FxConverter"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="96.6055" x="1086.1416" y="1564.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82.6055" x="1093.1416" y="1584.7051">FxConverter</text></g><g class="participant participant-head" data-participant="RiskChecker"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.2754" x="1192.7471" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.2754" x="1199.7471" y="70.5352">RiskChecker</text></g><g class="participant participant-tail" data-participant="RiskChecker"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="97.2754" x="1192.7471" y="1564.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83.2754" x="1199.7471" y="1584.7051">RiskChecker</text></g><g class="participant participant-head" data-participant="PaymentGateway"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.2969" x="1300.0225" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.2969" x="1307.0225" y="70.5352">PaymentGateway</text></g><g class="participant participant-tail" data-participant="PaymentGateway"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.2969" x="1300.0225" y="1564.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.2969" x="1307.0225" y="1584.7051">PaymentGateway</text></g><g class="participant participant-head" data-participant="PromoAPI"><rect fill="#AEE3FF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.4814" x="1438.3193" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.4814" x="1445.3193" y="70.5352">Promo 3rd&#8209;party</text></g><g class="participant participant-tail" data-participant="PromoAPI"><rect fill="#AEE3FF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="128.4814" x="1438.3193" y="1564.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="114.4814" x="1445.3193" y="1584.7051">Promo 3rd&#8209;party</text></g><g class="participant participant-head" data-participant="PaySvc"><rect fill="#AEE3FF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.3408" x="1576.8008" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.3408" x="1583.8008" y="70.5352">Payment Service</text></g><g class="participant participant-tail" data-participant="PaySvc"><rect fill="#AEE3FF" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="123.3408" x="1576.8008" y="1564.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="109.3408" x="1583.8008" y="1584.7051">Payment Service</text></g><g class="participant participant-head" data-participant="DataStore"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84.5195" x="1710.1416" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.5195" x="1717.1416" y="70.5352">Data Store</text></g><g class="participant participant-tail" data-participant="DataStore"><rect fill="#FFD6A5" height="30.4883" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="84.5195" x="1710.1416" y="1564.1699"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="70.5195" x="1717.1416" y="1584.7051">Data Store</text></g><g><title>CreateOrderHandler</title><rect fill="#FFFFFF" height="125.2422" style="stroke:#181818;stroke-width:1;" width="10" x="523.6655" y="142.1094"/></g><g><title>OrderRepository</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="893.5381" y="1267.7539"/></g><g><title>PromoService</title><rect fill="#FFFFFF" height="87.9316" style="stroke:#181818;stroke-width:1;" width="10" x="1018.6074" y="377.2383"/></g><g><title>FxConverter</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1129.4443" y="536.791"/></g><g><title>RiskChecker</title><rect fill="#FFFFFF" height="29.3105" style="stroke:#181818;stroke-width:1;" width="10" x="1236.3848" y="595.4121"/></g><g><title>PaymentGateway</title><rect fill="#FFFFFF" height="112.2422" style="stroke:#181818;stroke-width:1;" width="10" x="1359.1709" y="887.1172"/></g><g class="message" data-participant-1="Client" data-participant-2="OrderController"><polygon fill="#181818" points="275.126,108.7988,285.126,112.7988,275.126,116.7988,279.126,112.7988" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="72.7524" x2="281.126" y1="112.7988" y2="112.7988"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="79.7524" y="108.0566">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.7979" x="92.3281" y="108.0566">POST /orders (Create Order)</text></g><g class="message" data-participant-1="OrderController" data-participant-2="CreateOrderHandler"><polygon fill="#181818" points="511.6655,138.1094,521.6655,142.1094,511.6655,146.1094,515.6655,142.1094" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="287.126" x2="517.6655" y1="142.1094" y2="142.1094"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="294.126" y="137.3672">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="49.0928" x="306.7017" y="137.3672">Execute</text></g><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="CreateOrderHandler"><line style="stroke:#181818;stroke-width:1;" x1="533.6655" x2="575.6655" y1="171.4199" y2="171.4199"/><line style="stroke:#181818;stroke-width:1;" x1="575.6655" x2="575.6655" y1="171.4199" y2="184.4199"/><line style="stroke:#181818;stroke-width:1;" x1="534.6655" x2="575.6655" y1="184.4199" y2="184.4199"/><polygon fill="#181818" points="544.6655,180.4199,534.6655,184.4199,544.6655,188.4199,540.6655,184.4199" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="540.6655" y="166.6777">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.4907" x="553.2412" y="166.6777">Validate currency &amp; amount</text></g><path d="M40,199.4199 L102.1387,199.4199 L102.1387,206.7305 L92.1387,216.7305 L40,216.7305 L40,199.4199" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="149.5078" style="stroke:#000000;stroke-width:1.5;" width="796.0029" x="40" y="199.4199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="55" y="212.9883">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="187.6929" x="117.1387" y="212.0547">[UnsupportedCurrencyException]</text><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="OrderController"><polygon fill="#FFF3B0" points="298.126,234.041,288.126,238.041,298.126,242.041,294.126,238.041" style="stroke:#FFF3B0;stroke-width:1;"/><line style="stroke:#FFF3B0;stroke-width:1;stroke-dasharray:2,2;" x1="292.126" x2="522.6655" y1="238.041" y2="238.041"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="304.126" y="233.2988">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199.9639" x="316.7017" y="233.2988">UnsupportedCurrencyException</text></g><g class="message" data-participant-1="OrderController" data-participant-2="Client"><polygon fill="#181818" points="83.7524,263.3516,73.7524,267.3516,83.7524,271.3516,79.7524,267.3516" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="77.7524" x2="286.126" y1="267.3516" y2="267.3516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="89.7524" y="262.6094">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="168.7397" x="102.3281" y="262.6094">400 Unsupported currency</text></g><g class="message" data-participant-1="Client" data-participant-2="OrderController"><polygon fill="#181818" points="275.126,292.6621,285.126,296.6621,275.126,300.6621,279.126,296.6621" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="72.7524" x2="281.126" y1="296.6621" y2="296.6621"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="79.7524" y="291.9199">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="92.3281" y="291.9199">&#160;</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="40" x2="836.0029" y1="305.6621" y2="305.6621"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="89.3911" x="45" y="316.2969">[Valid currency]</text><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="Order"><polygon fill="#181818" points="787.5308,336.9277,797.5308,340.9277,787.5308,344.9277,791.5308,340.9277" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="528.6655" x2="793.5308" y1="340.9277" y2="340.9277"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="535.6655" y="336.1855">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="157.6123" x="548.2412" y="336.1855">create(amount, currency)</text></g><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="PromoService"><polygon fill="#181818" points="1006.6074,373.2383,1016.6074,377.2383,1006.6074,381.2383,1010.6074,377.2383" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="528.6655" x2="1012.6074" y1="377.2383" y2="377.2383"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="535.6655" y="372.4961">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.2153" x="548.2412" y="372.4961">getDiscountPercent (0-100%)</text></g><g class="message" data-participant-1="PromoService" data-participant-2="PromoAPI"><polygon fill="#181818" points="1490.5601,402.5488,1500.5601,406.5488,1490.5601,410.5488,1494.5601,406.5488" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1028.6074" x2="1496.5601" y1="406.5488" y2="406.5488"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="8.5757" x="1035.6074" y="401.8066">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.5439" x="1048.1831" y="401.8066">request</text></g><g class="message" data-participant-1="PromoAPI" data-participant-2="PromoService"><polygon fill="#181818" points="1039.6074,431.8594,1029.6074,435.8594,1039.6074,439.8594,1035.6074,435.8594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1033.6074" x2="1501.5601" y1="435.8594" y2="435.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="1045.6074" y="431.1172">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.5757" x="1066.7588" y="431.1172">percent</text></g><g class="message" data-participant-1="PromoService" data-participant-2="CreateOrderHandler"><polygon fill="#181818" points="539.6655,461.1699,529.6655,465.1699,539.6655,469.1699,535.6655,465.1699" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="533.6655" x2="1022.6074" y1="465.1699" y2="465.1699"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="545.6655" y="460.4277">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.7881" x="566.8169" y="460.4277">discountPercent</text></g><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="CreateOrderHandler"><line style="stroke:#181818;stroke-width:1;" x1="528.6655" x2="570.6655" y1="494.4805" y2="494.4805"/><line style="stroke:#181818;stroke-width:1;" x1="570.6655" x2="570.6655" y1="494.4805" y2="507.4805"/><line style="stroke:#181818;stroke-width:1;" x1="529.6655" x2="570.6655" y1="507.4805" y2="507.4805"/><polygon fill="#181818" points="539.6655,503.4805,529.6655,507.4805,539.6655,511.4805,535.6655,507.4805" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="535.6655" y="489.7383">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.4155" x="556.8169" y="489.7383">apply discount</text></g><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="FxConverter"><polygon fill="#181818" points="1117.4443,532.791,1127.4443,536.791,1117.4443,540.791,1121.4443,536.791" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="528.6655" x2="1123.4443" y1="536.791" y2="536.791"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="535.6655" y="532.0488">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="166.9053" x="556.8169" y="532.0488">convertToUSD(discounted)</text></g><g class="message" data-participant-1="FxConverter" data-participant-2="CreateOrderHandler"><polygon fill="#181818" points="539.6655,562.1016,529.6655,566.1016,539.6655,570.1016,535.6655,566.1016" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="533.6655" x2="1133.4443" y1="566.1016" y2="566.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="545.6655" y="561.3594">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126.5913" x="566.8169" y="561.3594">chargedAmountUSD</text></g><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="RiskChecker"><polygon fill="#181818" points="1224.3848,591.4121,1234.3848,595.4121,1224.3848,599.4121,1228.3848,595.4121" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="528.6655" x2="1230.3848" y1="595.4121" y2="595.4121"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="535.6655" y="590.6699">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.9761" x="556.8169" y="590.6699">assess(chargedAmountUSD)</text></g><g class="message" data-participant-1="RiskChecker" data-participant-2="CreateOrderHandler"><polygon fill="#181818" points="539.6655,620.7227,529.6655,624.7227,539.6655,628.7227,535.6655,624.7227" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="533.6655" x2="1240.3848" y1="624.7227" y2="624.7227"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="545.6655" y="619.9805">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="38.1812" x="566.8169" y="619.9805">allow?</text></g><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="OrderController"><polygon fill="#FFF3B0" points="298.126,674.3438,288.126,678.3438,298.126,682.3438,294.126,678.3438" style="stroke:#FFF3B0;stroke-width:1;"/><line style="stroke:#FFF3B0;stroke-width:1;stroke-dasharray:2,2;" x1="292.126" x2="527.6655" y1="678.3438" y2="678.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="304.126" y="673.6016">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151.5439" x="325.2773" y="673.6016">OrderRejectedException</text></g><g class="message" data-participant-1="OrderController" data-participant-2="Client"><polygon fill="#181818" points="83.7524,703.6543,73.7524,707.6543,83.7524,711.6543,79.7524,707.6543" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="77.7524" x2="286.126" y1="707.6543" y2="707.6543"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="89.7524" y="702.9121">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.7549" x="110.9038" y="702.9121">422 Order rejected</text></g><g class="message" data-participant-1="Client" data-participant-2="OrderController"><polygon fill="#181818" points="275.126,732.9648,285.126,736.9648,275.126,740.9648,279.126,736.9648" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="72.7524" x2="281.126" y1="736.9648" y2="736.9648"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="79.7524" y="732.2227">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="100.9038" y="732.2227">&#160;</text></g><path d="M20,766.9199 L82.1387,766.9199 L82.1387,774.2305 L72.1387,784.2305 L20,784.2305 L20,766.9199" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="669.3867" style="stroke:#000000;stroke-width:1.5;" width="1804.6611" x="20" y="766.9199"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="35" y="780.4883">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="223.8726" x="97.1387" y="779.5547">[Free order (chargedAmountUSD == 0)]</text><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="CreateOrderHandler"><line style="stroke:#181818;stroke-width:1;" x1="528.6655" x2="570.6655" y1="805.541" y2="805.541"/><line style="stroke:#181818;stroke-width:1;" x1="570.6655" x2="570.6655" y1="805.541" y2="818.541"/><line style="stroke:#181818;stroke-width:1;" x1="529.6655" x2="570.6655" y1="818.541" y2="818.541"/><polygon fill="#181818" points="539.6655,814.541,529.6655,818.541,539.6655,822.541,535.6655,818.541" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="535.6655" y="800.7988">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="235.7139" x="556.8169" y="800.7988">transactionId = free_* (skip payment)</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="20" x2="1824.6611" y1="827.541" y2="827.541"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="66.6177" x="25" y="838.1758">[Paid order]</text><path d="M30,848.4961 L104.4468,848.4961 L104.4468,855.8066 L94.4468,865.8066 L30,865.8066 L30,848.4961" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="522.1895" style="stroke:#000000;stroke-width:1.5;" width="1784.6611" x="30" y="848.4961"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="29.4468" x="45" y="862.0645">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="82.1885" x="119.4468" y="861.1309">[Retry up to 3]</text><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="PaymentGateway"><polygon fill="#181818" points="1347.1709,883.1172,1357.1709,887.1172,1347.1709,891.1172,1351.1709,887.1172" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="528.6655" x2="1353.1709" y1="887.1172" y2="887.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="535.6655" y="882.375">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="211.5928" x="556.8169" y="882.375">charge(chargedAmountUSD, USD)</text></g><g class="message" data-participant-1="PaymentGateway" data-participant-2="PaySvc"><polygon fill="#181818" points="1626.4712,912.4277,1636.4712,916.4277,1626.4712,920.4277,1630.4712,916.4277" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1369.1709" x2="1632.4712" y1="916.4277" y2="916.4277"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="1376.1709" y="911.6855">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="42.5737" x="1397.3223" y="911.6855">charge</text></g><path d="M50,931.4277 L112.1387,931.4277 L112.1387,938.7383 L102.1387,948.7383 L50,948.7383 L50,931.4277" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="180.8184" style="stroke:#000000;stroke-width:1.5;" width="1660.1416" x="50" y="931.4277"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="65" y="944.9961">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="245.0347" x="127.1387" y="944.0625">[TransientPaymentException (attempt &lt; 3)]</text><g class="message" data-participant-1="PaySvc" data-participant-2="PaymentGateway"><polygon fill="#181818" points="1380.1709,966.0488,1370.1709,970.0488,1380.1709,974.0488,1376.1709,970.0488" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1374.1709" x2="1637.4712" y1="970.0488" y2="970.0488"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="1386.1709" y="965.3066">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.2856" x="1407.3223" y="965.3066">transient error</text></g><g class="message" data-participant-1="PaymentGateway" data-participant-2="CreateOrderHandler"><polygon fill="#181818" points="539.6655,995.3594,529.6655,999.3594,539.6655,1003.3594,535.6655,999.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="533.6655" x2="1363.1709" y1="999.3594" y2="999.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="545.6655" y="994.6172">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.2041" x="566.8169" y="994.6172">transient failure</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="50" x2="1710.1416" y1="1008.3594" y2="1008.3594"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="52.2554" x="55" y="1018.9941">[Success]</text><g class="message" data-participant-1="PaySvc" data-participant-2="PaymentGateway"><polygon fill="#181818" points="1375.1709,1039.625,1365.1709,1043.625,1375.1709,1047.625,1371.1709,1043.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="1369.1709" x2="1637.4712" y1="1043.625" y2="1043.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="1381.1709" y="1038.8828">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.4941" x="1402.3223" y="1038.8828">transactionId</text></g><g class="message" data-participant-1="PaymentGateway" data-participant-2="CreateOrderHandler"><polygon fill="#181818" points="539.6655,1068.9355,529.6655,1072.9355,539.6655,1076.9355,535.6655,1072.9355" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="533.6655" x2="1363.1709" y1="1072.9355" y2="1072.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="545.6655" y="1068.1934">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.4941" x="566.8169" y="1068.1934">transactionId</text></g><path d="M60,1087.9355 L143.0098,1087.9355 L143.0098,1095.2461 L133.0098,1105.2461 L60,1105.2461 L60,1087.9355" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="17.3105" style="stroke:#000000;stroke-width:1.5;" width="88.0098" x="60" y="1087.9355"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="38.0098" x="75" y="1101.5039">break</text><path d="M40,1126.2461 L102.1387,1126.2461 L102.1387,1133.5566 L92.1387,1143.5566 L40,1143.5566 L40,1126.2461" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="237.4395" style="stroke:#000000;stroke-width:1.5;" width="1764.6611" x="40" y="1126.2461"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1387" x="55" y="1139.8145">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="269.4355" x="117.1387" y="1138.8809">[TransientPaymentException (after 3 attempts)]</text><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="OrderController"><polygon fill="#FFF3B0" points="298.126,1160.8672,288.126,1164.8672,298.126,1168.8672,294.126,1164.8672" style="stroke:#FFF3B0;stroke-width:1;"/><line style="stroke:#FFF3B0;stroke-width:1;stroke-dasharray:2,2;" x1="292.126" x2="527.6655" y1="1164.8672" y2="1164.8672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="304.126" y="1160.125">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="174.5859" x="325.2773" y="1160.125">TransientPaymentException</text></g><g class="message" data-participant-1="OrderController" data-participant-2="Client"><polygon fill="#181818" points="83.7524,1190.1777,73.7524,1194.1777,83.7524,1198.1777,79.7524,1194.1777" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="77.7524" x2="286.126" y1="1194.1777" y2="1194.1777"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="89.7524" y="1189.4355">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="121.2529" x="110.9038" y="1189.4355">503 Payment failed</text></g><g class="message" data-participant-1="Client" data-participant-2="OrderController"><polygon fill="#181818" points="275.126,1219.4883,285.126,1223.4883,275.126,1227.4883,279.126,1223.4883" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="72.7524" x2="281.126" y1="1223.4883" y2="1223.4883"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="79.7524" y="1218.7461">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="4.1133" x="100.9038" y="1218.7461">&#160;</text></g><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2,2;" x1="40" x2="1804.6611" y1="1232.4883" y2="1232.4883"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="55.6714" x="45" y="1243.123">[Charged]</text><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="OrderRepository"><polygon fill="#181818" points="881.5381,1263.7539,891.5381,1267.7539,881.5381,1271.7539,885.5381,1267.7539" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="528.6655" x2="887.5381" y1="1267.7539" y2="1267.7539"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="535.6655" y="1263.0117">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70.2813" x="556.8169" y="1263.0117">save(order)</text></g><g class="message" data-participant-1="OrderRepository" data-participant-2="DataStore"><polygon fill="#181818" points="1740.4014,1293.0645,1750.4014,1297.0645,1740.4014,1301.0645,1744.4014,1297.0645" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="903.5381" x2="1746.4014" y1="1297.0645" y2="1297.0645"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="910.5381" y="1292.3223">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31.1987" x="931.6895" y="1292.3223">write</text></g><g class="message" data-participant-1="DataStore" data-participant-2="OrderRepository"><polygon fill="#181818" points="914.5381,1322.375,904.5381,1326.375,914.5381,1330.375,910.5381,1326.375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="908.5381" x2="1751.4014" y1="1326.375" y2="1326.375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="920.5381" y="1321.6328">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="40.2188" x="941.6895" y="1321.6328">stored</text></g><g class="message" data-participant-1="OrderRepository" data-participant-2="CreateOrderHandler"><polygon fill="#181818" points="539.6655,1351.6855,529.6655,1355.6855,539.6655,1359.6855,535.6655,1355.6855" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="533.6655" x2="897.5381" y1="1355.6855" y2="1355.6855"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="545.6655" y="1350.9434">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="15.5835" x="566.8169" y="1350.9434">ok</text></g><g class="message" data-participant-1="CreateOrderHandler" data-participant-2="OrderController"><polygon fill="#FFF3B0" points="298.126,1394.9961,288.126,1398.9961,298.126,1402.9961,294.126,1398.9961" style="stroke:#FFF3B0;stroke-width:1;"/><line style="stroke:#FFF3B0;stroke-width:1;stroke-dasharray:2,2;" x1="292.126" x2="527.6655" y1="1398.9961" y2="1398.9961"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="304.126" y="1394.2539">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="183.3203" x="325.2773" y="1394.2539">OrderCreated (domain event)</text></g><g class="message" data-participant-1="OrderController" data-participant-2="Client"><polygon fill="#181818" points="83.7524,1424.3066,73.7524,1428.3066,83.7524,1432.3066,79.7524,1428.3066" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="77.7524" x2="286.126" y1="1428.3066" y2="1428.3066"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="17.1514" x="89.7524" y="1423.5645">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77.7969" x="110.9038" y="1423.5645">201 Created</text></g><path d="M404,1448.3066 L404,1549.3066 L652,1549.3066 L652,1458.3066 L642,1448.3066 L404,1448.3066" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M642,1448.3066 L642,1458.3066 L652,1458.3066 L642,1448.3066" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.5562" x="410" y="1465.875">OrderCreated event:</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="227.1255" x="410" y="1481.1855">- orderId, original amount/currency</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="138.2266" x="410" y="1496.4961">- chargedAmountUSD</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165.3945" x="410" y="1511.8066">- discountPercent (0-100)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216.9565" x="410" y="1527.1172">- transactionId (free_* or gateway)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="152.001" x="410" y="1542.4277">- occurredAt timestamp</text><a href="https://mundiir.github.io/meetup-2025-orders-service/c4-component.svg" target="_top" title="https://mundiir.github.io/meetup-2025-orders-service/c4-component.svg" xlink:actuate="onRequest" xlink:href="https://mundiir.github.io/meetup-2025-orders-service/c4-component.svg" xlink:show="new" xlink:title="https://mundiir.github.io/meetup-2025-orders-service/c4-component.svg" xlink:type="simple"><text fill="#0000FF" font-family="sans-serif" font-size="10" lengthAdjust="spacing" text-decoration="underline" textLength="111.416" x="866.1226" y="1793.2559">Back to C4 Component</text></a><rect fill="#DDDDDD" height="112.9297" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1;" width="327.5361" x="12" y="1657.6582"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36.0391" x="21.4297" y="1678.1934">Layer</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="281.1064" y="1678.1934">Sample</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="84.4307" x="21.4297" y="1694.6816">Presentation</text><rect fill="#C7F9CC" height="16.4883" style="stroke:none;stroke-width:1;" width="57.8594" x="276.6768" y="1681.1465"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="276.6768" y="1694.6816">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76.8496" x="21.4297" y="1711.1699">Application</text><rect fill="#FFF3B0" height="16.4883" style="stroke:none;stroke-width:1;" width="57.8594" x="276.6768" y="1697.6348"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="276.6768" y="1711.1699">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.623" x="21.4297" y="1727.6582">Domain</text><rect fill="#E8EAED" height="16.4883" style="stroke:none;stroke-width:1;" width="57.8594" x="276.6768" y="1714.123"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="276.6768" y="1727.6582">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="250.8174" x="21.4297" y="1744.1465">Infrastructure (Adapters/Persistence)</text><rect fill="#FFD6A5" height="16.4883" style="stroke:none;stroke-width:1;" width="57.8594" x="276.6768" y="1730.6113"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="276.6768" y="1744.1465">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151.6689" x="21.4297" y="1760.6348">External Actor/System</text><rect fill="#AEE3FF" height="16.4883" style="stroke:none;stroke-width:1;" width="57.8594" x="276.6768" y="1747.0996"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4297" x="276.6768" y="1760.6348">&#160;</text><line style="stroke:#000000;stroke-width:1;" x1="17" x2="334.5361" y1="1664.6582" y2="1664.6582"/><line style="stroke:#000000;stroke-width:1;" x1="17" x2="334.5361" y1="1681.1465" y2="1681.1465"/><line style="stroke:#000000;stroke-width:1;" x1="17" x2="334.5361" y1="1697.6348" y2="1697.6348"/><line style="stroke:#000000;stroke-width:1;" x1="17" x2="334.5361" y1="1714.123" y2="1714.123"/><line style="stroke:#000000;stroke-width:1;" x1="17" x2="334.5361" y1="1730.6113" y2="1730.6113"/><line style="stroke:#000000;stroke-width:1;" x1="17" x2="334.5361" y1="1747.0996" y2="1747.0996"/><line style="stroke:#000000;stroke-width:1;" x1="17" x2="334.5361" y1="1763.5879" y2="1763.5879"/><line style="stroke:#000000;stroke-width:1;" x1="17" x2="17" y1="1664.6582" y2="1763.5879"/><line style="stroke:#000000;stroke-width:1;" x1="276.6768" x2="276.6768" y1="1664.6582" y2="1763.5879"/><line style="stroke:#000000;stroke-width:1;" x1="334.5361" x2="334.5361" y1="1664.6582" y2="1763.5879"/><!--SRC=[fLTRR-9657xthpXArDPKSM13qWlQRCLoQIDLMXIoVObMrSG-41VRuvqPGv3oi7-XKd_X_fAUcR5X09jijpm0zhbzvpfdleE1GAOGtea81Np-z0zCyME1MOYmYjKZv5me2RvQyU2Hvwqpm2U58cC9J0HFEVWFIO7qEkG95nWHESHSnJm39WHVIOyLYcT5-e32yrYek8114cEcuBG_6dN7Oyzxu4zmOknBCYwMSOWdS3eq7myWPqB5OPmpaZ5S0vufmPE4y9uEVXp_F1ZiSLcN3EzlB8iCutWyxhxjrAc3qz5Fe_werjGjvbp617gjDGn_w5_jSPaWbA0RMCPF17Y9GbaODHotiLmC7Z5SD79Cs3gbcFrARgtO5Wjc4L3qFC_bFR69wOheywU_DM5z0anQfFt9pIRkkpBMm3R-MeAjfykmdd_858Cf1SQowaVpj87cbLaEtkmdhGUJTzCxQ7ERSTyjm9Qtds6IFqnd3qPF61OATKN5Ior-o4GG3kkWGTqVB8aZhIOiXA3YNyEtm59UPCfZYOBtcInotGaO3Kg6KLNdbAawE_TbnNse2y0B-WvYe56RSFRWijDnnJU0IIp2Oz404AWAaNcOIBGEkyBriJBFFGWDqRSHETk8jNG1DeNPxOmUp54DOnbg-GcAK5U6tmbUTJhVjBOvT4MydSwgz57zziWF6b1IUPkA3WxCvTR6dfA6v4Uxm3mdZZk8lhoSM9udwutUfWWvWu52RF_UyVVJeLz9OkH4ns7tt9dIv5RuoCGSexv96cbr_N9rDQ1pXX8v92LAwU-hTD0vx9uxpvhGiIJXgrzSJAu6qtNb1FuBGmh4_-gtHar7E-tYeZmWH2dv7tki7sf3HaoxCnQ8O8OU70GIhg-XqoB6faQi2w4IB9CQ3izk8hY66HduytlmvIBEwVGm0rthD60cZFhTM3TM4ivpk4L51rkHWwBZmhnkChzx_bIrTU366PYYi9gsJRGZN5BtJZHhWuwRIdUbX09tf_tKEIbbDWa4doc5QQxWDNGhir2TMq4DRbMf0gJjHBWYEsYEHTo8prYS508t2joPKUUkoS6qe8gGyek1LhdzAfW7mYz117WWNOiAS6Obgz-N4Z7JewWBPK9awqWv7MtLHXkbmcCTUzNfLgwP167b_4jTgpzbvswIDR2rVRGjzdR47aYsH9_RJMQl2_PuNNUSBPEKRdQf7gn4hAeQswvOGQrbJOgQj3OK2byS1gWEfoq2-_rrmzTAHU17F6Ln1hWiXzEnV5vqNfNc8hjfP9m0SZgtwjAuOyVextc17NatqHdzYUUnlhVOBQQzsNs2mvCosDy9ocMbHPJTgUkNGvUkDNFRJPg7XqPxr5UWufHs5PRcPbdN3dZEbKYdBVUy1EUQck1CKKYUuNUs9jepJ4akGNWsBoS29K5Xfk6UuNLvztbJalkqSyJXbcepKb67DkoQO6yx5U4ccmacbIX2Ady4lnynEhE4R9FdCfPAtmHRfKAzs5Toe-eQsDTtklPqJQofuRFN1Ss7EZ5paxaPvtf0tDy_AfNBNhkT5baKn-9yJfVCuk4yvkqKgGFpuA9pSHNOkq4WxURL3Y-3aASvpyZ_SxcSmriMBlIfDRY4GKNuyE5V]--></g></svg>